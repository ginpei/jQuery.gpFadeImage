/**
 * jQuery.gpFadeImage 1.0
 * http://ginpen.com/jquery/gpfadeimage/
 * https://github.com/ginpei/jQuery.gpFadeImage
 *
 * Copyright (c) 2012 Takanashi Ginpei
 * http://ginpen.com
 *
 * Released under the MIT License.
 * http://www.opensource.org/licenses/mit-license.php
 */
(function(a){try{if(window.com.ginpen.gpFadeImage){return}}catch(b){}if(!window.com){window.com={}}if(!com.ginpen){com.ginpen={}}var c=com.ginpen.gpFadeImage={VERSION:"1.0",settings:{duration:1000,interval:2000},exec:function(d,e){this._setSettings(d,e);if(this._isAvailable(d)){this._normalizeSetting(d);this._wrap(d);this._kick(d)}},_setSettings:function(d,e){d.data("gpFadeImage.settings",e||{});return this},getSettings:function(d){return d.data("gpFadeImage.settings")},_isAvailable:function(d){if(!d.is("img")){return false}else{if(!d.attr("src")){return false}else{var e=this.getSettings(d);if("length" in e){if(e.length<1){return false}}else{if(!e.src){return false}else{if(e.src.length<1){return false}}}}}return true},_normalizeSetting:function(g){var h=this.getSettings(g);if("length" in h){h={src:h}}h=a.extend({},this.settings,h);h.duration=Math.max(1,h.duration);h.interval=Math.max(1,h.interval);var k=h.src;k.unshift(g.attr("src"));var e=[];for(var f=0,d=k.length;f<d;f++){var j=k[f];if(j){e.push(j)}}h.src=e;this._setSettings(g,h);return this},_wrap:function(d){d.wrap("<span />").parent().addClass("gpfadeimage-wrapper").css({display:"inline-block",height:d.height(),width:d.width()})},_kick:function(d){var e=this.getSettings(d);this._setNextImage(d);var f=this;setTimeout(function(){f._next(d,function(){f._kick(d)})},e.interval)},_next:function(d,g){var e=this.getSettings(d);var f=this;d.fadeTo(e.duration,0,function(){d.attr("src",d.data("gpfadeimage.nextSrc")).css("opacity",1);g()})},_setNextImage:function(e){var g=this.getSettings(e);var d=e.data("gpfadeimage.index")||0;var h=g.src;var f=h[++d%h.length];e.parent().css("background-image",'url("'+f+'")');e.data("gpfadeimage.index",d).data("gpfadeimage.nextSrc",f)},banpei:null};a.fn.gpFadeImage=function(d,e){return this.each(function(f,g){c.exec(a(g),d,e)})}}(jQuery));
